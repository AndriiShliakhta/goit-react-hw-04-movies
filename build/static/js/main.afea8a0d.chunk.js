(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{19:function(e,t,c){e.exports={navListItem:"NavigationItem_navListItem__9vR70",navItemLink:"NavigationItem_navItemLink__3ZEDV",navItemLinkActive:"NavigationItem_navItemLinkActive__3TllP"}},37:function(e,t,c){e.exports={navList:"Navigation_navList__1c1gb"}},83:function(e,t,c){},84:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(34),r=c.n(a),i=[{name:"home",path:"/",exact:!0},{name:"movies",path:"/movies",exact:!1}],s=c(7),o=c(2),j=c(19),u=c(0),l=Object(o.f)((function(e){var t=e.name,c=e.path,n=e.exact;return Object(u.jsx)("li",{className:j.navListItem,children:Object(u.jsx)(s.c,{to:c,className:j.navItemLink,activeClassName:j.navItemLinkActive,exact:n,children:t})})})),b=c(37),h=function(e){var t=e.routes;return Object(u.jsx)("nav",{children:Object(u.jsx)("ul",{className:b.navList,children:t.map((function(e){var t=e.name,c=e.path,n=e.exact;return Object(u.jsx)(l,{name:t,path:c,exact:n},c)}))})})},d=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("header",{children:Object(u.jsx)(h,{routes:i})}),Object(u.jsx)("hr",{})]})},O=c(11),v=c(14),f=c.n(v),m=c(18),p=c(8),x=c(12),g=c.n(x),_=Object(o.f)((function(e){e.match;var t=e.movies;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Trending today"}),Object(u.jsx)("ul",{children:null===t||void 0===t?void 0:t.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsx)(s.b,{to:"movies/".concat(e.id),children:e.title||e.name})},e.id)}))})]})})),y=c(4),k=Object(o.f)((function(e){var t=e.location,c=e.foundMovies;return Object(u.jsx)("ul",{children:null===c||void 0===c?void 0:c.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsx)(s.b,{to:{pathname:"movies/".concat(e.id),state:{from:t}},children:e.title||e.name})},e.id)}))})})),w=c(38),I=c.n(w),S=Object(o.f)((function(e){var t=e.history,c=e.location,n=e.upMovieSearch,a=Object(y.useState)(null),r=Object(p.a)(a,2),i=r[0],s=r[1],o=Object(y.useState)(""),j=Object(p.a)(o,2),l=j[0],b=j[1];Object(y.useEffect)((function(){var e=I.a.parse(c.search);e.query&&h(e.query)}),[c.search]);var h=function(){var e=Object(m.a)(f.a.mark((function e(t){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("https://api.themoviedb.org/3/search/movie?api_key=9f076a639a51530d619fabd99f65fd8f&query=".concat(t));case 3:c=e.sent,s(c.data.results),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.push({pathname:t.location.pathname,search:"query=".concat(l)}),h(l),n(l)},children:[Object(u.jsx)("label",{children:Object(u.jsx)("input",{type:"text",onChange:function(e){b(e.target.value)},value:l})}),Object(u.jsx)("button",{type:"submit",children:"Search"})]}),Object(u.jsx)(k,{foundMovies:i,movieSearch:l})]})})),L=function(e){var t=e.id,c=Object(y.useState)(null),n=Object(p.a)(c,2),a=n[0],r=n[1];return Object(y.useEffect)((function(){g.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=9f076a639a51530d619fabd99f65fd8f")).then((function(e){return r(e.data.cast)})).catch((function(e){console.log(e)}))}),[t]),Object(u.jsx)(u.Fragment,{children:a&&a.map((function(e){return Object(u.jsxs)("li",{children:[Object(u.jsx)("img",{src:"https://image.tmdb.org/t/p/w300".concat(e.profile_path),alt:e.name,width:"100"}),Object(u.jsx)("p",{children:e.name}),Object(u.jsx)("p",{children:e.character})]},e.id)}))})},F=function(e){var t=e.id,c=Object(y.useState)(null),n=Object(p.a)(c,2),a=n[0],r=n[1];return Object(y.useEffect)((function(){g.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=9f076a639a51530d619fabd99f65fd8f")).then((function(e){return r(e.data.results)})).catch((function(e){console.log(e)}))}),[t]),Object(u.jsx)(u.Fragment,{children:a&&a.map((function(e){return Object(u.jsxs)("li",{children:[Object(u.jsx)("h4",{children:e.author}),Object(u.jsx)("p",{children:e.content})]},e.id)}))})},N=Object(o.f)((function(e){var t,c,n=e.match,a=e.history,r=e.location,j=e.movieSearchWord,l=Object(y.useState)(null),b=Object(p.a)(l,2),h=b[0],d=b[1],v=Object(y.useState)(""),f=Object(p.a)(v,2),m=f[0],x=f[1];return Object(y.useEffect)((function(){g.a.get("https://api.themoviedb.org/3/movie/".concat(n.params.movieId,"?api_key=9f076a639a51530d619fabd99f65fd8f")).then((function(e){d(e.data),x("https://image.tmdb.org/t/p/w500".concat(e.data.poster_path))})).catch((function(e){console.log(e)}))}),[n.params.movieId]),Object(u.jsx)(u.Fragment,{children:h&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{type:"button",onClick:function(){return r.state||j?a.push("/movies?query=".concat(j)):(j=null,a.push("".concat(i[0].path)))},children:"\ud83e\udc14 Go back"}),Object(u.jsx)("div",{children:Object(u.jsx)("img",{src:m,alt:"Poster",width:"300"})}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("h2",{children:[h.title||h.name," ","(".concat((null===(t=h.release_date)||void 0===t?void 0:t.slice(0,4))||(null===(c=h.first_air_date)||void 0===c?void 0:c.slice(0,4)),")")]}),Object(u.jsx)("p",{children:"User Score: ".concat(10*h.vote_average,"%")}),Object(u.jsx)("h3",{children:"Overview "}),Object(u.jsx)("p",{children:h.overview}),Object(u.jsx)("h4",{children:"Genres"}),Object(u.jsx)("p",{children:h.genres.map((function(e){return e.name})).join(", ")})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h4",{children:"Additional informationn"}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)(s.c,{to:"".concat(n.url,"/cast"),exact:!0,children:"Cast"})}),Object(u.jsx)("li",{children:Object(u.jsx)(s.c,{to:"".concat(n.url,"/reviews"),exact:!0,children:"Reviews"})})]}),Object(u.jsx)("hr",{}),Object(u.jsx)(o.a,{path:"".concat(n.url,"/cast"),exact:!0,render:function(e){return Object(u.jsx)(L,Object(O.a)(Object(O.a)({},e),{},{id:n.params.movieId}))}},"".concat(n.url,"/cast")),Object(u.jsx)(o.a,{path:"".concat(n.url,"/reviews"),exact:!0,render:function(e){return Object(u.jsx)(F,Object(O.a)(Object(O.a)({},e),{},{id:n.params.movieId}))}},"".concat(n.url,"/reviews"))]})]})})})),E="https://api.themoviedb.org/3/",q="?api_key=9f076a639a51530d619fabd99f65fd8f",A=Object(o.f)((function(e){var t=e.routes,c=Object(n.useState)(null),a=Object(p.a)(c,2),r=a[0],i=a[1],s=Object(n.useState)(null),j=Object(p.a)(s,2),l=j[0],b=j[1];Object(n.useEffect)((function(){h()}),[]);var h=function(){var e=Object(m.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat(E,"trending/all/day").concat(q));case 3:t=e.sent,i(t.data.results),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),d=function(e){b(e)};return Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{path:"".concat(t[0].path),exact:!0,render:function(e){return Object(u.jsx)(_,Object(O.a)(Object(O.a)({},e),{},{movies:r}))}},t[0].path),Object(u.jsx)(o.a,{path:"".concat(t[1].path,"/:movieId"),render:function(e){return Object(u.jsx)(N,Object(O.a)(Object(O.a)({},e),{},{movies:r,movieSearchWord:l}))}},"".concat(t[1].path,"/:movieId")),Object(u.jsx)(o.a,{path:t[1].path,exact:!0,render:function(e){return Object(u.jsx)(S,Object(O.a)({upMovieSearch:d},e))}},t[1].path)]})})),C=function(){return Object(u.jsx)("main",{children:Object(u.jsx)(A,{routes:i})})},M=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(d,{}),Object(u.jsx)(C,{})]})};c(82),c(83);r.a.render(Object(u.jsx)(s.a,{children:Object(u.jsx)(M,{})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.afea8a0d.chunk.js.map